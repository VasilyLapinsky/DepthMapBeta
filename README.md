# DepthMapBeta
При помощи функции void makeDisparityMap(Mat image, Mat& disparity_map) строится карта глубины.
Она принимает стрео изображение, затем делит его на два, соответсвенно, right и left. После переводит изображения в ЧБ.
Затем создает StereoSGBM matcher для левого и правого изображений и WLSfilter.
Результатом работы WLSfilter является карта глубины, которую при помощи getDisparityVis переводит в ЧБ изображение.

## Основные проблеммы:
  1. Не верная палитра. Чем ближе предмет, тем он темне, чем дальше, тем светлее. Должно быть наоборот.
  2. Карта смещения очень чувствительна к освещенности. На тестовом изображении(Image1.png) это очень заметно.
  3. Когда тестировал в офисе на при помощи камеры, к предидущим неостаткам добавилось, то что изображение было было преимущественно черным.
  
## Предположительные решения:
  * Сейчас занимаюсь, тем чтобы понять как все параметры влияют на карту и их взаимосвязь, так как неправильность световой палитры 
  связанна, скорее всего, с этим.
  * Так же я не знаю, нужно ли писать функцию предварительной каллибровки и получения параметров с камер. Не знаю потому что, 
  в большинстве примеров все производят каллибровку камер, но если мы кпривязываемся к определенным значениям, тогда мы ограничим дальность
  построения карты и я не знаю, как поступить лучше: пытаться настроить без каллибровки, чтобы в теории не ограничивать дальность или же
  упростить задачу, но ограничив дальность отрисовки.
  
Пока занимаюсь изучением работы со стерео изображениями. За субботу никаких изменений не вносил.
